# 📚 教科書セクション分割ツール (Textbook Section Splitter)

教科書の文字起こしテキスト(Markdown形式)を、テーマ(`###` 見出し)ごとに個別のTXTファイルに分割し、ZIPファイルとして一括ダウンロードできるStreamlitアプリです。

## 🎯 機能

- **ファイルアップロード**: `.md` または `.txt` ファイルをアップロード可能
- **自動分割**: `###` で始まる見出しを検出し、自動的にセクションを分割
- **導入部分の保存**: 最初の `###` より前の内容を `00_導入.txt` として保存
- **ページ表記の削除**: `[ページ x]` 形式の表記を削除するオプション
- **安全なファイル名**: ファイル名として使用できない文字を自動的にアンダースコアに置換
- **ZIP一括ダウンロード**: すべてのファイルを1つのZIPアーカイブにまとめてダウンロード
- **ファイル一覧表示**: 分割後のファイル名と統計情報を画面に表示

## 📋 要件

- Python 3.8以上
- Streamlit 1.28.0以上

## 🚀 インストールと実行

### 1. 依存パッケージのインストール

```bash
pip install -r requirements.txt
```

### 2. アプリの起動

```bash
streamlit run app.py
```

ブラウザが自動的に開き、アプリが表示されます。

## 📖 使い方

1. **ファイルをアップロード**: `.md` または `.txt` ファイルを選択
2. **オプション設定**: 必要に応じて「ページ表記を削除」をチェック
3. **分割処理を実行**: ボタンをクリックして処理を開始
4. **結果を確認**: 生成されるファイル一覧を確認
5. **ダウンロード**: ZIPファイルをダウンロード

## 📁 出力ファイル形式

分割されたファイルは以下の形式で命名されます:

- `00_導入.txt` - 最初の `###` より前の導入部分
- `01_産業革命と工業化.txt` - 最初のセクション
- `02_アメリカ合衆国とラテンアメリカ諸国の独立.txt` - 2番目のセクション
- ...

## 🔧 技術仕様

### 分割ロジック

- `###` で始まる行を新しいファイルの区切りとして認識
- 各ファイルの冒頭には、そのテーマのタイトル(見出しの内容)を含む
- `###` より前の導入文は `00_導入.txt` として保存

### ファイル名の安全化

以下の文字はアンダースコアに置換されます:
- `< > : " / \ | ? *`
- 制御文字 (0x00-0x1f)
- 先頭・末尾の空白やドット

### ページ表記の削除

`**[ページ x]**` 形式の表記を削除するオプションがあります。

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告や機能リクエストは、GitHubのIssueでお願いします。

## 📧 お問い合わせ

質問や提案がある場合は、お気軽にお問い合わせください。
